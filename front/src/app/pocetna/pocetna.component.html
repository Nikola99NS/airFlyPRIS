<app-header></app-header>

<body class="has-text-centered " [ngStyle]="{backgroundImage:'url(assets/images/sky4.jpg)'} ">
    <!-- <img [src]="myImage"> -->
    <div class="tile is-ancestor">
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        <div class="tile is-vertical is-10">
            <div class="tile is-parent">
                <article class="tile is-child notification is-info">
                    <div class="pretraga">
                        <br><br><br><br> &nbsp;&nbsp;&nbsp;<label class="recenica">Ovde možete da pretražujete letove.</label>
                        <br><br>
                        <form (ngSubmit)="pretrazi()">
                            <span class="datum"> &nbsp;&nbsp;&nbsp;Datum : &nbsp;<input type="date" name="datum" [(ngModel)]="datum"> &nbsp;&nbsp;&nbsp;
                            <input class="input is-info"  type="text" style="width: 200px; height:30px" placeholder="Polazni" name="polazni" [(ngModel)]="polazni">
                            &nbsp;&nbsp;&nbsp;
                            <input class="input is-info" type="text" style="width: 200px; height:30px" placeholder="Dolazni" name="dolazni" [(ngModel)]="dolazni">
                            &nbsp;&nbsp;&nbsp;
                           <button class="button is-info is-small" type="submit">
                            Search
                           </button>

                            </span>
                        </form>
                        <br><br><br>
                        <div *ngIf="p">

                            <table style="width:60%">
                                <tr>
                                    <th> Polazak</th>
                                    <th> Dolazak</th>
                                    <th> Datum</th>
                                    <th> Vreme polaska</th>
                                    <th> Vreme dolaska</th>
                                    <th> Prevoznik</th>
                                    <th> Ekonomska klasa (cena)</th>
                                    <th> Biznis klasa (cena)</th>
                                    <th> Rezervisi</th>
                                </tr>

                                <tr *ngFor="let l of letovi">
                                    <td> {{l.polazak}}</td>
                                    <td> {{l.dolazak}}</td>
                                    <td> {{l.datum}}</td>
                                    <td> {{l.vreme_polaska}}</td>
                                    <td> {{l.vreme_dolaska}}</td>
                                    <td> {{l.prevoznik_ime}}</td>
                                    <td> {{l.cena_ekonomska}}</td>
                                    <td> {{l.cena_biznis}}</td>
                                    <td>
                                        <form (ngSubmit)="rezervisi(l.id)">
                                            <button class="button is-info is-small" type="submit">
                                            Rezervisi
                                            </button>
                                        </form>
                                    </td>
                                </tr>

                            </table>

                            <br><br>

                            <p *ngIf="popust" >{{popustMsg}}</p>

                        </div>
                        <br><br><br>
                    </div>

                </article>

            </div>


        </div>

    </div>



    <div class="tile is-ancestor " *ngIf="auth.isAdmin()">
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        <div class="tile is-vertical is-10">
            <div class="tile is-parent">
                <article class="tile is-child notification is-info">
                    <div class="adminovDeo has-text-centered" *ngIf="auth.isAdmin()">
                        <form (ngSubmit)="unesiNoviLet()">
                            &nbsp;
                            <label style="font-weight: 500; font-size: large; color:rgb(22, 86, 151);">Unesi novi let</label><br>
                            <br> &nbsp;
                            <input class=" input is-info " type="text " style="width: 150px; height:30px " placeholder="Polazni " name="polazniAdmin" [(ngModel)]="polazniAdmin"> &nbsp;&nbsp;
                            <input class="input is-info " type="text " style="width: 150px; height:30px " placeholder="Dolazni " name="dolazniAdmin" [(ngModel)]="dolazniAdmin"> &nbsp;&nbsp;

                            <select [(ngModel)]='prevoznik' name="s">
                                <option *ngFor="let p of prevozniciList" value="{{p.id}}">{{p.ime}}</option>
                            </select>

                            <div class="select is-link is-small">

                                <select [(ngModel)]='selected' name="s">
                                      <option *ngFor="let t of tipovi">{{t}}</option>
                                </select>
                                <span style="color:rgb(22, 86, 151); font-weight:bold" *ngIf="selected=='jednokratno'">Datum i vreme<br>
                                    <input type="date" style="width: 110px; height:20px " name="datumAdmin" [(ngModel)]="datumAdmin"><br>
                                    <input type="text" style="width: 110px; height:20px " placeholder="Vreme polaska"  name="vremePolaska" [(ngModel)]="vremePolaska">&nbsp;-&nbsp;
                                    <input type="text" style="width: 110px; height:20px " placeholder="Vreme dolaska"  name="vremeDolaska" [(ngModel)]="vremeDolaska">
                                </span>
                                <span style="color:rgb(22, 86, 151); font-weight:bold" *ngIf="selected=='svakodnevno' || selected=='radniDan'">Vreme<br>
                                  <input type="text" style="width: 110px; height:20px " placeholder="Vreme polaska"  name="vremePolaska" [(ngModel)]="vremePolaska">&nbsp;-&nbsp;
                                  <input type="text" style="width: 110px; height:20px " placeholder="Vreme dolaska"  name="vremeDolaska" [(ngModel)]="vremeDolaska">
                                </span>

                            </div>&nbsp;&nbsp;



                            <label style="font-weight: 500; color:rgb(22, 86, 151);">Cena karte(ekonomska) : </label>
                            <input class="input is-info " type="number " style="width: 80px; height:30px " placeholder="€" name="cenaEkonomska" [(ngModel)]="cenaEkonomska"> &nbsp;&nbsp;
                            <label style="font-weight: 500; color:rgb(22, 86, 151);">Cena karte(biznis) : </label>
                            <input class="input is-info " type="number " style="width: 80px; height:30px " placeholder="€" name="cenaBiznis" [(ngModel)]="cenaBiznis"> &nbsp;&nbsp;

                            <label style="font-weight: 500; color:rgb(22, 86, 151);">Slobodna mesta : </label>
                            <input class="input is-info " type="number " style="width: 80px; height:30px " placeholder="" name="slobodnaMesta" [(ngModel)]="slobodnaMesta"> &nbsp;&nbsp;


                            <button class="button is-info is-small " type="submit ">
                                Unesi
                            </button>
                            <br><br><br><br><br><br>
                        </form>


                    </div>
                </article>
            </div>


        </div>

    </div>
    <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br>
</body>
